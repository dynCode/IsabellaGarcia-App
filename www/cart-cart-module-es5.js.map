{"version":3,"sources":["./src/app/cart/cart.page.html","./src/app/cart/cart.module.ts","./src/app/cart/cart.page.scss","./src/app/cart/cart.page.ts"],"names":[],"mappings":"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","file":"cart-cart-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Shopping Cart</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-card [hidden]=\\\"!showEmptyCartMessage\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col>Your cart is currently empty.</ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </ion-card>\\n   \\n  <ion-list id=\\\"cartList\\\">\\n    <ion-item *ngFor=\\\"let item of cartItems; let i = index\\\">\\n      <ion-thumbnail (click)=\\\"getProdDet(item.product.id)\\\" class=\\\"prodThumbImg\\\" [innerHtml]=\\\"replaceIMG(item.product.images[0].src)\\\" slot=\\\"start\\\"></ion-thumbnail>\\n      <ion-label (click)=\\\"getProdDet(item.product.id)\\\">\\n        <p class=\\\"cartTitle\\\"><strong>{{ item.product.name }}</strong></p>\\n        <p class=\\\"cartPrice\\\">{{ item.product.price | currency : \\\"R\\\" }}</p>\\n        <p class=\\\"cartQty\\\">Quantity: {{ item.qty }}</p>\\n      </ion-label>\\n      <ion-button fill=\\\"clear\\\" color=\\\"danger\\\" (click)=\\\"removeFromCart(item, i)\\\" slot=\\\"end\\\">\\n        <ion-icon name=\\\"trash\\\"></ion-icon>\\n      </ion-button>\\n    </ion-item>\\n  </ion-list>\\n\\n  \\n\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col col-2>\\n\\n      </ion-col>\\n      <ion-col col-4>\\n        <b>BR TOTAL</b>\\n      </ion-col>\\n      <ion-col col-3 style=\\\"text-align: right;\\\">\\n        <b>- {{ cartBr | number:'1.2-2'}}</b>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col col-2>\\n\\n      </ion-col>\\n      <ion-col col-4>\\n        <b>TOTAL</b>\\n      </ion-col>\\n      <ion-col col-3 style=\\\"text-align: right;\\\">\\n        <b>{{ total | currency : \\\"R\\\"  }}</b>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-button expand=\\\"full\\\" color=\\\"dark\\\" (click)=\\\"openWithInAppBrowser()\\\">CHECKOUT</ion-button>\\n  <!--<ion-button >Open with In App browser</ion-button>-->\\n</ion-footer>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CartPage } from './cart.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CartPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CartPage]\n})\nexport class CartPageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NhcnQvY2FydC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport { ProductsService } from '../services/products.service';\nimport {AuthenticationService} from '../services/authenticate.service';\nimport {PageDetailsService} from '../services/page-details.service';\nimport { InAppBrowser, InAppBrowserOptions } from '@ionic-native/in-app-browser/ngx';\nimport { SpinnerDialog } from '@ionic-native/spinner-dialog/ngx';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.page.html',\n  styleUrls: ['./cart.page.scss'],\n})\nexport class CartPage implements OnInit {\n\n  cartItems: any[] = [];\n  total: any;\n  showEmptyCartMessage: boolean = false;\n  userBR: any;\n  options : InAppBrowserOptions = {\n    location : 'yes',\n    hideurlbar: \"yes\",\n    presentationstyle : 'pagesheet',\n  };\n  userData: any;\n  cartBr: any;\n  totalBr: any;\n\n  constructor(public productsService: ProductsService, public authenticationService: AuthenticationService, public storage: Storage, public pageDetail: PageDetailsService,private iab: InAppBrowser,private http: HttpClient,private spinnerDialog: SpinnerDialog) { \n    this.total = 0.0;\n\n    this.storage.ready().then( (data)=>{\n      this.storage.get(\"user\").then( (data)=>{\n        this.userData = data;\n        this.totalBr = data[0].brPoints;\n      })\n\n      this.storage.get(\"cart\").then( (data)=>{\n        this.cartItems = data;\n        console.log(\"Items in Cart\", this.cartItems);\n\n        if (this.cartItems) {\n          if (this.cartItems.length > 0) {\n\n            this.cartItems.forEach( (item, index)=>{\n              this.total = this.total + (item.product.price * item.qty);\n            });\n\n            if (this.total <= this.totalBr) { \n              this.cartBr = this.total;\n              this.total = 0.00;\n            } else {\n              this.total = this.total-this.totalBr;\n              this.cartBr = this.totalBr;\n            }\n          } else {\n            this.showEmptyCartMessage = true;\n          }\n        }else {\n          this.showEmptyCartMessage = true;\n        }\n      })\n    })\n\n  }\n\n  ngOnInit() {\n  }\n\n  public replaceIMG(imgString) {\n    var newstr = imgString.replace(\"beta.\", \"\");\n    return '<img src=\"' + newstr + '\">';\n  }\n\n  removeFromCart(item, i) {\n\n    this.pageDetail.subCartCount();\n    //this.pageDetail.addBRPoints(item.product.price);\n\n    let price = item.product.price;\n    let qty = item.qty;\n\n    this.cartItems.splice(i, 1);\n\n    this.storage.set(\"cart\", this.cartItems).then( ()=> {\n\n      this.storage.get(\"availableBR\").then( (data)=> {\n        this.userBR = data - this.total;\n  \n        this.storage.set(\"availableBR\", this.userBR).then( ()=> {\n          console.log(this.userBR);\n        })\n      })\n\n    });\n\n    this.removeUcart(item.cartKey);\n\n    this.recalCart();\n    this.pageDetail.getBRPoints();\n  }\n\n  removeUcart(ckey) {\n    var headers = new HttpHeaders({'Authorization': 'Bearer ' + this.userData[0].authToken});\n    let httpOptions = {\n      headers: headers\n    };\n\n    this.http.delete(\"https://beta.isabellagarcia.co.za/wp-json/cocart/v1/item?cart_item_key=\"+ckey, httpOptions)\n      .subscribe(data => {\n        console.log(data);\n       }, error => {\n        console.log(error);\n      });\n  }\n\n  public getProdDet(id){\n    this.productsService.ProductDetails(id);\n\t\tconsole.log(this.productsService.productDetails);\n  }\n\n  public openWithInAppBrowser(){\n    let target = \"_blank\";\n    const browser = this.iab.create(\"https://beta.isabellagarcia.co.za/cart/\",target,this.options);\n    browser.on('loadstart').subscribe((eve) => {\n      this.spinnerDialog.show(null, null, true);     \n    }, err => {\n      this.spinnerDialog.hide();\n    })\n    \n    browser.on('loadstop').subscribe(()=>{\n      this.spinnerDialog.hide();\n    }, err =>{\n      this.spinnerDialog.hide();\n    })\n    \n    browser.on('loaderror').subscribe(()=>{\n      this.spinnerDialog.hide();\n    }, err =>{\n      this.spinnerDialog.hide();\n    })\n    \n    browser.on('exit').subscribe(()=>{\n      this.spinnerDialog.hide();\n\n      var headers = new HttpHeaders({'Authorization': 'Bearer ' + this.userData[0].authToken});\n      let httpOptions = {\n        headers: headers\n      };\n\n      this.http.get(\"https://beta.isabellagarcia.co.za/wp-json/cocart/v1/get-cart/\"+this.userData[0].id, httpOptions)\n      .subscribe(data => {\n        console.log(data);\n        console.log('sting data output:', JSON.stringify(data));\n        if (typeof data !== 'object' || JSON.stringify(data) == \"[]\") {\n          this.storage.ready().then( (data)=>{\n            this.storage.set('cart', '');\n            this.cartItems = [];\n            this.recalCart();\n          });\n        }\n      }, error => {\n        console.log(error);\n      });\n\n    }, err =>{\n      this.spinnerDialog.hide();\n    })\n  }\n\n  recalCart() {\n    this.storage.get(\"cart\").then( (data)=>{\n      this.cartItems = data;\n      console.log(\"Items in Cart\", this.cartItems);\n\n      if (this.cartItems) {\n        if (this.cartItems.length > 0) {\n\n          this.cartItems.forEach( (item, index)=>{\n            this.total = this.total + (item.product.price * item.qty);\n          });\n\n          if (this.total <= this.totalBr) { \n            this.cartBr = this.total;\n            this.total = 0.00;\n          } else {\n            this.total = this.total-this.totalBr;\n            this.cartBr = this.totalBr;\n          }\n        } else {\n          this.showEmptyCartMessage = true;\n          this.cartBr = 0.00;\n          this.total = 0.00;\n        }\n      }else {\n        this.showEmptyCartMessage = true;\n        this.cartBr = 0.00;\n        this.total = 0.00;\n      }\n    })\n  }\n}\n"],"sourceRoot":""}